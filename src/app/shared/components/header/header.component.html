<mat-toolbar class="header-toolbar">
  <mat-toolbar-row>
    <!--    <img src="assets/images/store-logo-transp-simple.png" alt="Store logo" routerLink="/home">-->
    <nav>
      <a routerLink="/home" routerLinkActive="active" color="primary">
        <mat-icon>home</mat-icon>
        Inicio
      </a>
      <a
        *ngIf="availableProductRoles.indexOf(loginService.role) != -1"
        routerLink="/products"
        routerLinkActive="active"
        color="primary"
      >
        Productos
      </a>
    </nav>
    <div class="user-buttons">
      <a
        *ngIf="!loginService.isLogged"
        routerLink="/auth/login"
        mat-mini-fab
        color="primary"
      >
        <mat-icon>person</mat-icon>
      </a>
      <a *ngIf="loginService.role == 'Administrador'">
        <mat-select placeholder="Entidades" type="number" list="entities">
          <mat-option *ngFor="let entitie of entities">
            <a class="entities" [routerLink]="[entitie.url]">{{
              entitie.name
            }}</a>
          </mat-option>
        </mat-select>
      </a>

      <button *ngIf="loginService.role == 'Administrador'" mat-raised-button [matMenuTriggerFor]="menu">
        <span style="margin-right: 10px" [matBadge]="total" matBadgeOverlap="false" matBadgeColor="warn"
              matBadgePosition="below after"><mat-icon>shopping_cart</mat-icon>Carrito</span>
      </button>
      <mat-menu #menu="matMenu">
        <button mat-menu-item *ngFor="let p of products;">{{p.name}}  {{p.price | currency}}</button>
        <button mat-menu-item>
          <strong>Total: {{totalp() | currency}}</strong>
        </button>
        <a *ngIf="products.length > 0" mat-menu-item routerLink="/order">
          <mat-icon>shopping_cart</mat-icon>
          Terminar compra</a>
      </mat-menu>

      <button
        *ngIf="loginService.isLogged"
        (click)="logout()"
        mat-raised-button
        color="accent"
      >
        Cerrar
      </button>
    </div>
  </mat-toolbar-row>
</mat-toolbar>
